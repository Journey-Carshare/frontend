<!DOCTYPE html>
<html>
<head>
    <title>Simple Map</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb" crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous"> -->

    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
    <link rel="stylesheet" href="styles/font-awesome.min.css">
</head>
<body>
<ul class="flex-container">
    <li class="flex-item" id="mapflex">
        <div id="map"></div>
    </li>
    <li class="flex-item item-list-container" id="belowflex">
        <div class="map-info">
            <div class="map-info-element">
                Carshares to Reading
            </div>
        </div>
        <div class="item-list">
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 2.4 Miles</div>
                <div class="item-title">Jacques Reading</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 3.6 Miles</div>
                <div class="item-title">Edward Wright</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 5.4 Miles</div>
                <div class="item-title">Karan Sethi</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 2.4 Miles</div>
                <div class="item-title">Jacques Reading</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 3.6 Miles</div>
                <div class="item-title">Edward Wright</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 5.4 Miles</div>
                <div class="item-title">Karan Sethi</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 2.4 Miles</div>
                <div class="item-title">Jacques Reading</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 3.6 Miles</div>
                <div class="item-title">Edward Wright</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 5.4 Miles</div>
                <div class="item-title">Karan Sethi</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
            <a href="./profile.html">
                <div class="icon"><i class="fa fa-map-marker" aria-hidden="true"></i> 2.4 Miles</div>
                <div class="item-title">Jacques Reading</div>
                <div class="item-small-content"><i class="fa fa-caret-down"></i></div>
            </a>
        </div>
    </li>
</ul>
<div class="bottom-bar-container">
    <div class="bottom-bar">
        <a href="#"><i class="fa fa-cog"></i></a>
        <a href="#"><i class="fa fa-cog"></i></a>
        <a href="#" class="plus"><i class="fa fa-plus"></i></a>
        <a href="#"><i class="fa fa-cog"></i></a>
        <a href="#"><i class="fa fa-cog"></i></a>
    </div>
</div>
<script>
var map;
function initMap() {
    map = new google.maps.Map(document.getElementById('map'), {
        //center: {lat: 51.3057676, lng: -0.5494706},
        //zoom: 9,
        disableDefaultUI: true
    });
}

</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD284odf2blHXmEQ64JoprTYFjGsp4s4hk&callback=initMap"></script>
<script>

$(window).load(function(){
    var geocoder = new google.maps.Geocoder();
    var globalMarker = [];
    function updateGlobalMarker(append) {
        globalMarker.push(append);
    };
    function geocodeAddress(geocoder, resultsMap, addressInput) {
        var address = addressInput;
        geocoder.geocode({'address': address}, function(results, status) {
            if (status === 'OK') {
                //resultsMap.setCenter(results[0].geometry.location);
                console.log(results[0].geometry.location.lat());

                var myLatLang;
                var myLat;
                var myLng;

                var rand = Math.random();
                var change = 0.005 * rand;
                if(rand > 0.5){
                    myLat = results[0].geometry.location.lat() + change;
                } else {
                    myLat = results[0].geometry.location.lat() - change;
                }
                console.log(results[0].geometry.location.lat());

                var rand = Math.random();
                var change = 0.005 * rand;
                if(rand > 0.5){
                    myLng = results[0].geometry.location.lng() + change;
                } else {
                    myLng = results[0].geometry.location.lng() - change;
                }

                var myLatLang = {lat: myLat, lng: myLng};

                var Marker = new google.maps.Marker({
                    map: resultsMap,
                    //position: results[0].geometry.location
                    position: myLatLang
                })
                globalMarker.push(Marker);
                console.log(globalMarker);

                var bounds = new google.maps.LatLngBounds();
                for (var i=0; i < globalMarker.length; i++) {
                    bounds.extend(globalMarker[i].getPosition());
                }
                map.fitBounds(bounds);
            } else {
                alert('Geocode was not successful for the following reason: ' + status);
            }
        });
    };


    geocodeAddress(geocoder, map, "HA55NE");  //harrow
    geocodeAddress(geocoder, map, "W12 7DA"); //shepards bush
    geocodeAddress(geocoder, map, "UB79HF");  //west drayton
    geocodeAddress(geocoder, map, "HA0 4RF");  //west drayton
})
</script>
</body>
</html>
