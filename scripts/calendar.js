"use strict";function setCalendarMonthTitle(e){var a=e,n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=n[a.getMonth()]+" "+a.getFullYear();document.getElementById("titleMonth").innerHTML=t}function setCalendarWeekTitle(e){var a=e.week[0].date+" - "+e.week[4].date;document.getElementById("titleWeek").innerHTML=a}function setCalendarArray(e){var a,n=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t=e,r={week:[]};for(a=0;a<5;a++){var d=t.getDate()+a,i=n[t.getDay()+a];r.week.push({day:i,date:d})}return r}function getCalendarJSON(){return $.getJSON("data/calendar.json").then(function(e){return e})}function setupCalendarDiv(e){var a,n="";getCalendarJSON().then(function(t){var r=t;for(a=0;a<5;a++){var d;for(n+="<div class='mat-cal-foot-day-element'><div class='date'>",n+=e.week[a].date,n+="<div class='day'>",n+=e.week[a].day,n+="</div></div><div class='mat-cal-foot-day-journey'>",d=0;d<r.calendar[a].journeys.length;d++){n+="<div class='mat-cal-foot-day-journey-element bg-"+r.calendar[a].journeys[d].event+"'><div class='title'>",n+=r.calendar[a].journeys[d].name,n+="</div><div class='location'><i class='fa fa-map-marker'></i> ",n+=r.calendar[a].journeys[d].postcode,n+="</div><div class='time'><i class='fa fa-clock-o'></i> ",n+=r.calendar[a].journeys[d].time;var i;i="danger"==r.calendar[a].journeys[d].event?"fa-minus-circle":"evening"==r.calendar[a].journeys[d].event?"fa-moon-o":"fa-sun-o",n+="</div><div class='icon'><i class='fa "+i+"'></i></div></div>"}n+="</div></div></div></div>"}document.getElementById("calendarContainer").innerHTML=n})}function setupCalendar(){var e=new Date;setCalendarMonthTitle(e);var a=setCalendarArray(e);setCalendarWeekTitle(a),setupCalendarDiv(a)}$("#peek").hide(),$("#peek-show").click(function(){$("#peek").show()}),$("#peek-hide").click(function(){$("#peek").hide()}),setupCalendar();