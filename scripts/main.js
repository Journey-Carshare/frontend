"use strict";function elementHide(){$(".sign-up-container").hide()}function elementShow(){$(".sign-up-container").show()}function postArray(){}function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie),o=n.split(";"),r=0;r<o.length;r++){for(var i=o[r];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}function generateAlert(e){$(".banner-alert").html('<div class="alert alert-success" role="alert">'+e+"</div>")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){var t=!1;if("function"==typeof define&&define.amd&&(define(e),t=!0),"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&(module.exports=e(),t=!0),!t){var n=window.Cookies,o=window.Cookies=e();o.noConflict=function(){return window.Cookies=n,o}}}(function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var o in n)t[o]=n[o]}return t}function t(n){function o(t,r,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},o.defaults,i),"number"==typeof i.expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*i.expires),i.expires=s}i.expires=i.expires?i.expires.toUTCString():"";try{a=JSON.stringify(r),/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)),t=t.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),t=t.replace(/[\(\)]/g,escape);var u="";for(var l in i)i[l]&&(u+="; "+l,!0!==i[l]&&(u+="="+i[l]));return document.cookie=t+"="+r+u}t||(a={});for(var c=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,f=0;f<c.length;f++){var m=c[f].split("="),p=m.slice(1).join("=");this.json||'"'!==p.charAt(0)||(p=p.slice(1,-1));try{var g=m[0].replace(d,decodeURIComponent);if(p=n.read?n.read(p,g):n(p,g)||p.replace(d,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(e){}if(t===g){a=p;break}t||(a[g]=p)}catch(e){}}return a}}return o.set=o,o.get=function(e){return o.call(o,e)},o.getJSON=function(){return o.apply({json:!0},[].slice.call(arguments))},o.defaults={},o.remove=function(t,n){o(t,"",e(n,{expires:-1}))},o.withConverter=t,o}return t(function(){})});var poolData={UserPoolId:"eu-west-1_hHC08zjgQ",ClientId:"v2u7b84ip31mdlagd5ut9irvt"},userPool=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserPool(poolData),attributeList=[],dataEmail={Name:"email",Value:"email@mydomain.com"},dataPhoneNumber={Name:"phone_number",Value:"+15555555555"},attributeEmail=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserAttribute(dataEmail),attributePhoneNumber=new AWSCognito.CognitoIdentityServiceProvider.CognitoUserAttribute(dataPhoneNumber);attributeList.push(attributeEmail),attributeList.push(attributePhoneNumber),userPool.signUp("username","password",attributeList,null,function(e,t){if(e)return void alert(e);cognitoUser=t.user}),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("sw.js").then(function(e){},function(e){})}),""!==getCookie("Cookie")&&window.location.replace("/calendar.html"),document.getElementById("exampleInputEmail1").addEventListener("focus",elementHide),document.getElementById("exampleInputPassword1").addEventListener("focus",elementHide),document.getElementById("exampleInputEmail1").addEventListener("focusout",elementShow),document.getElementById("exampleInputPassword1").addEventListener("focusout",elementShow),$("#loginForm").submit(function(e){e.preventDefault();for(var t,n,o=$("#loginForm").serializeArray(),r=0;r<o.length;r++)"password"===o[r].name?n=o[r].value:"email"===o[r].name&&(t=o[r].value);var i={email:t,password:n};$.ajax({type:"POST",url:"https://p6flgqzkv2.execute-api.eu-west-1.amazonaws.com/stage1/user/login",data:JSON.stringify(i),success:function(e){if(e.errorMessage);else if(e.id){var t=new Date;t.setTime(+t+864e5),document.cookie="Cookie="+e.id+"; expires="+t.toGMTString()+" path=/",window.location.replace("/calendar.html")}},error:function(e){}})});var getUrlParameter=function(e){var t,n,o=decodeURIComponent(window.location.search.substring(1)),r=o.split("&");for(n=0;n<r.length;n++)if(t=r[n].split("="),t[0]===e)return void 0===t[1]||t[1]},alert=getUrlParameter("alert");"cHdkY2huZw=="==alert&&generateAlert("You successfully changed your password"),"YWNjbnRvcGVu"==alert&&generateAlert("You successfully registered an account");